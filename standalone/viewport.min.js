!function(a){"use strict";function b(){this.collection={},this.maxListeners=10}b.prototype.addListener=function(a,b,c){if(void 0===a)throw new Error('jvent - "addListener(event, listener)": It should receive an event.');if(void 0===b)throw new Error('jvent - "addListener(event, listener)": It should receive a listener function.');var d=this.collection;if(b.once=c||!1,void 0===d[a]&&(d[a]=[]),d[a].length+1>this.maxListeners&&0!==this.maxListeners)throw new Error("Warning: So many listeners for an event.");return d[a].push(b),this.emit("newListener"),this},b.prototype.on=b.prototype.addListener,b.prototype.once=function(a,b){return this.on(a,b,!0),this},b.prototype.removeListener=function(a,b){if(void 0===a)throw new Error('jvent - "removeListener(event, listener)": It should receive an event.');if(void 0===b)throw new Error('jvent - "removeListener(event, listener)": It should receive a listener function.');var e,c=this.collection[a],d=0;if(void 0!==c)for(e=c.length,d;e>d;d+=1)if(c[d]===b){c.splice(d,1);break}return this},b.prototype.off=b.prototype.removeListener,b.prototype.removeAllListeners=function(a){if(void 0===a)throw new Error('jvent - "removeAllListeners(event)": It should receive an event.');return delete this.collection[a],this},b.prototype.setMaxListeners=function(a){if(isNaN(a))throw new Error('jvent - "setMaxListeners(n)": It should receive a number.');return this.maxListeners=a,this},b.prototype.listeners=function(a){if(void 0===a)throw new Error('jvent - "listeners(event)": It should receive an event.');return this.collection[a]},b.prototype.emit=function(){var c,e,a=Array.prototype.slice.call(arguments,0),b=a.shift(),d=0;if(void 0===b)throw new Error('jvent - "emit(event)": It should receive an event.');if("string"==typeof b&&(b={type:b}),b.target||(b.target=this),void 0!==this.collection[b.type])for(c=this.collection[b.type],e=c.length,d;e>d;d+=1)c[d].apply(this,a),c[d].once&&(this.off(b.type,c[d]),e-=1,d-=1);return this},"function"==typeof a.define&&void 0!==a.define.amd?a.define("Jvent",[],function(){return b}):"undefined"!=typeof module&&void 0!==module.exports?module.exports=b:a.Jvent=a.EventEmitter=b}(this),function(a){"use strict";function l(){if(i||j){var a=i?"resize":"scroll";this.refresh(),i=!1,j=!1,this.emit(a)}}function m(){return this instanceof m||void 0!==m.getInstance?m.getInstance?m.getInstance:(this.init(),this):new m}var b=a,c=b.document,d=c.documentElement,e=b.Jvent,f=b.addEventListener||b.attachEvent,g=f===b.attachEvent?"onresize":"resize",h=f===b.attachEvent?"onscroll":"scroll",i=!1,j=!1,k=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)}}();f(g,function(){i=!0}),f(h,function(){j=!0}),m.prototype=new e,m.prototype.init=function(){var a=this;return a.refresh(),a.calculateDeviceDimensions(),function b(){k(b),l.call(a)}(),m.getInstance=this,this},m.prototype.device={},m.prototype.calculateDimensions=function(){return this.height=d.clientHeight,this.width=d.clientWidth,this},m.prototype.calculateDeviceDimensions=function(){return this.device.height=b.screen.height,this.device.width=b.screen.width,this},m.prototype.calculateScroll=function(){var f,a=this.scrollY,e=this.height+a;return this.scrollY=b.pageYOffset||d.scrollTop,this.scrollX=b.pageXOffset||d.scrollLeft,f=this.height+this.scrollY,a!==this.scrollY&&0===this.scrollY?this.emit("top"):e!==f&&f>=c.body.scrollHeight&&this.emit("bottom"),this},m.prototype.calculateOffset=function(){return this.top=this.scrollY,this.right=this.scrollX+this.width,this.bottom=this.scrollY+this.height,this.left=this.scrollX,this},m.prototype.calculateMousePostition=function(b){var e=0,f=0;return b=b||a.event,b.pageX||b.pageY?(e=b.pageX,f=b.pageY):(e=b.clientX+c.body.scrollLeft+d.scrollLeft,f=b.clientY+c.body.scrollTop+d.scrollTop),{posX:e,posY:f}},m.prototype.calculateOrientation=function(){return this.orientation=90===Math.abs(b.orientation)?"landscape":"portrait",this},m.prototype.inViewport=function(a){var b=a.getBoundingClientRect();return b.top>=0&&b.right<=this.width&&b.bottom<=this.height&&b.left>=0},m.prototype.isVisible=function(a){var b=a.getBoundingClientRect();return b.height>=this.top},m.prototype.refresh=function(){return this.calculateDimensions(),this.calculateScroll(),this.calculateOffset(),this.calculateOrientation(),this},"function"==typeof a.define&&void 0!==a.define.amd?a.define("viewport",[],function(){return new m}):"undefined"!=typeof module&&void 0!==module.exports?module.exports=new m:a.Viewport=m}(this);